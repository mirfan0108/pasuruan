<template>
    <div>
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Form Info Faktor Evaluasi Jabatan Struktural</h4>
                <h4 class="card-subtitle">Informasi Jabatan</h4>
                <table class="table" >
                    <tr>
                        <td>Nama Jabatan</td>
                        <td><strong>{{infoJabatan.name}}</strong></td>
                    </tr>
                    <tr>
                        <td>Organisasi</td>
                        <td><strong v-if="infoJabatan.TB_OPD">{{infoJabatan.TB_OPD.name}}</strong></td>
                    </tr>
                </table>
            

                <div class="row">
                    <div class="col-md-4 col-lg-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="list-group"> 
                                    <a @click.prevent="doStep('F1')" href="javascript:void(0)" 
                                        :class="step == 'faktor1' ? 'list-group-item active' : 'list-group-item'">F1 PENGETAHUAN</a> 
                                    <a href="javascript:void(0)" @click.prevent="doStep('F2')" 
                                        :class="step == 'faktor2' ? 'list-group-item active' : 'list-group-item'">F2 PENGAWASAN PENYELIA</a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F3')" 
                                        :class="step == 'faktor3' ? 'list-group-item active' : 'list-group-item'">F3 PEDOMAN</a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F4')" 
                                        :class="step == 'faktor4' ? 'list-group-item active' : 'list-group-item'">F4 KOMPLEKSITAS</a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F5')" 
                                        :class="step == 'faktor5' ? 'list-group-item active' : 'list-group-item'" >F5 RUANG LINGKUP DAN DAMPAK </a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F6')" 
                                        :class="step == 'faktor6' ? 'list-group-item active' : 'list-group-item'">F6 HUBUNGAN PERSONAL </a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F7')" 
                                        :class="step == 'faktor7' ? 'list-group-item active' : 'list-group-item'">F7 TUJUAN HUBUNGAN</a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F8')" 
                                        :class="step == 'faktor8' ? 'list-group-item active' : 'list-group-item'">F8 PERSYARATAN FISIK </a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('F9')" 
                                        :class="step == 'faktor9' ? 'list-group-item active' : 'list-group-item'">F9 LINGKUNGAN PEKERJAAN </a>
                                    <a href="javascript:void(0)" @click.prevent="doStep('REQ')" 
                                        :class="step == 'syarat' ? 'list-group-item active' : 'list-group-item'">PERSYARATAN JABATAN </a>

                                </div>
                            </div>
                        </div>
                        
                    </div>
                
                
                <div class="col-md-8 col-lg-8">
                    <!-- FAKTOR 1 -->
                    <div v-if = "step == 'faktor1'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F1 PENGETAHUAN</h6>
                                        
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>PENGETAHUAN</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F1'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 2 -->
                    <div v-if = "step == 'faktor2'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F2 PENGAWASAN PENYELIA</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>PENGAWASAN PENYELIA </label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F2'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 3 -->
                    <div v-if = "step == 'faktor3'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F3 PEDOMAN</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>PEDOMAN</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F3'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 4 -->
                    <div v-if = "step == 'faktor4'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F4 KOMPLEKSITAS</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>KOMPLEKSITAS</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F4'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 5 -->
                    <div v-if = "step == 'faktor5'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F5 RUANG LINGKUP DAN DAMPAK</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>RUANG LINGKUP DAN DAMPAK</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F5'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 6 -->
                    <div v-if = "step == 'faktor6'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F6 HUBUNGAN PERSONAL</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>HUBUNGAN PERSONAL</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F6'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 7 -->
                    <div v-if = "step == 'faktor7'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F7 TUJUAN HUBUNGAN</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>TUJUAN HUBUNGAN</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F7'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 8 -->
                    <div v-if = "step == 'faktor8'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F8 PERSYARATAN FISIK</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>PERSYARATAN FISIK</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F8'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAKTOR 9 -->
                    <div v-if = "step == 'faktor9'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">F9 LINGKUNGAN PEKERJAAN</h6>
                                        <div class="form-group">
                                            <label>Standar Jabatan (optional)</label>
                                            <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.standar"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>LINGKUNGAN PEKERJAAN</label>
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'F9'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PERSYARATAN JABATAN TERTENTU-->
                    <div v-if = "step == 'syarat'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title">PERSYARATAN JABATAN TERTENTU (Wajib di isi)</h6>
                                        <div class="form-group">
                                            <div class="input-group">
                                                <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formInfoFak.info"></textarea>
                                            </div><br>
                                            <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInput()">
                                                <i class="fa fa-plus-square"></i> Tambahkan
                                            </button>
                                        </div><br>
                                        <hr>
                                        <div style="margin-top: 5px;" v-if="listInfoFak.length > 0">
                                            <div v-for="fk in listInfoFak">
                                                <ul class="list-unstyled" v-if="fk.type == 'REQ'">
                                                    <li class="media">
                                                        <div class="media-body">
                                                            <div class="d-flex w-100 justify-content-end">
                                                                <!-- <h5 class="mb-1 text-white">List group item heading</h5> -->
                                                                <!--  <small class="text-danger pull-right"><a href="javascript:void(0)" class="text-danger pull-right"><i class="fa fa-minus"></i> Hapus</a></small> -->
                                                            </div>
                                                            <p class="mb-1">
                                                                {{fk.info}}
                                                            </p>
                                                            <div v-if="fk.child && fk.child.length > 0">
                                                                <div class="media mt-3" v-for="(fkc, number) in fk.child">
                                                                    <div class="media-body pr-3">
                                                                        {{number+1}}. {{fkc.info}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="media mt-3" >
                                                                <div class="media-body pr-3">
                                                                    <div class="form-group">
                                                                        <textarea  class="form-control" placeholder="Ketik disini ..."  rows="3" v-model="formChild.info"></textarea>
                                                                    </div>
                                                                    <button type="button" class="btn btn-success btn-sm btn-rounded pull-right" @click.prevent="saveInputChild(fk.id)">
                                                                        <i class="fa fa-plus-square"></i> Tambahkan
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>

                    <button class="btn btn-rounded btn-block btn-info" @click.prevent="$root.$router.replace({name: 'list.infofak'})">Simpan</button>
                </div>
            </div>
        </div>
    </div>
</div>
</template>

<script>
    import ApiPosition from '../../services/api/ManagementPosition.js';
    import ApiEvjab from '../../services/api/Evjab.js';
    export default {
        props: ['id'],
        
        data() {
            return {
                infoJabatan: {},
                totalValue: 0,
                step: 'faktor1',

                //FAKTOR SATU
                formInfoFak: {
                    id_position: 0,
                    info: '',
                    type: 'F1',
                    standar: '',
                    parent_id: 0
                },

                formChild: {
                    id_position: 0,
                    info: '',
                    type: 'F1',
                    standar: '',
                    parent_id: 0
                },

                listInfoFak: []

            }
        },
        mounted() {
            this.formInfoFak.id_position = parseInt(this.id)
            ApiPosition.getOneById(this.id)
            .then(_resp => {
                console.log(_resp)
                this.infoJabatan = _resp.data.position
                this.getInput()
            })
        },
        methods: {
            doStep(step) {
                switch (step) {
                    case 'F1':
                        this.step = 'faktor1'
                        this.formInfoFak.type = step
                        break;
                    case 'F2':
                        this.step = 'faktor2'
                        this.formInfoFak.type = step
                        break;
                    case 'F3':
                        this.step = 'faktor3'
                        this.formInfoFak.type = step
                        break;
                    case 'F4':
                        this.step = 'faktor4'
                        this.formInfoFak.type = step
                        break;
                    case 'F5':
                        this.step = 'faktor5'
                        this.formInfoFak.type = step
                        break;
                    case 'F6':
                        this.step = 'faktor6'
                        this.formInfoFak.type = step
                        break;
                    case 'F7':
                        this.step = 'faktor7'
                        this.formInfoFak.type = step
                        break;
                    case 'F8':
                        this.step = 'faktor8'
                        this.formInfoFak.type = step
                    case 'F9':
                        this.step = 'faktor9'
                        this.formInfoFak.type = step
                        break;
                    case 'REQ':
                        this.step = 'syarat'
                        this.formInfoFak.type = step
                        break;
                    
                    default:
                        break;
                }
                
            },
            getInput() {
                ApiEvjab.GetInput_infoFak(this.id)
                .then(_resp => {
                    this.listInfoFak = _resp.data
                })
            },
            simpan() {
                this.formFes.position_id = parseInt(this.id)
                ApiEvjab.Create(this.formFes)
                .then(resp => resp)
                .finally(() => {
                    this.$root.$router.replace({name: 'list.evjab'})
                })
            },

            saveInput() {
                ApiEvjab.CreateInput_infoFak(this.formInfoFak)
                .then(_resp => {
                    this.formInfoFak.info = ''
                    this.formInfoFak.standar = ''
                })
                .finally(() => {
                    this.getInput()
                })
            },

            saveInputChild(id) {
                this.formChild.id_position = parseInt(this.id)
                this.formChild.parent_id = id
                this.formChild.type = this.formInfoFak.type
                ApiEvjab.CreateInput_infoFak(this.formChild)
                .then(_resp => {
                    this.formChild.info = ''
                    this.formChild.standar = ''
                })
                .finally(() => {
                    this.getInput()
                })
            }
            
        }
    }
</script>